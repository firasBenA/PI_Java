<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.paint.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="tn.esprit.controllers.GestionRendezVous"
            >

   <top>
      <HBox styleClass="header" alignment="CENTER" spacing="20" padding="15">
         <Text styleClass="header-text" text="eHealth">
            <effect>
               <DropShadow color="#14967f" radius="3"/>
            </effect>
         </Text>
         <Rectangle width="2" height="30" fill="#ccecee"/>
         <Label styleClass="header-label" text="Prise de Rendez-vous"/>
         <HBox spacing="10" HBox.hgrow="ALWAYS" alignment="CENTER_RIGHT">
            <Button styleClass="header-button" text="Mon Compte"/>
         </HBox>
      </HBox>
   </top>

   <center>
      <GridPane hgap="20" vgap="20" alignment="CENTER" style="-fx-background-color: #ccecee;" padding="30">
         <columnConstraints>
            <ColumnConstraints percentWidth="40"/>
            <ColumnConstraints percentWidth="60"/>
         </columnConstraints>

         <!-- Section Calendrier -->
         <VBox GridPane.columnIndex="0" spacing="15" alignment="TOP_CENTER">
            <Label styleClass="form-label" text="Disponibilités"/>
            <DatePicker fx:id="date" styleClass="custom-date-picker">
               <GridPane.margin>
                  <Insets bottom="10"/>
               </GridPane.margin>
            </DatePicker>
            <VBox spacing="5" alignment="CENTER_LEFT">
               <HBox spacing="5" alignment="CENTER_LEFT">
                  <Rectangle width="20" height="20" fill="#e2fcd6" stroke="#095d7e" strokeWidth="1"/>
                  <Label styleClass="form-label" text="Disponible (0-1 consultation)"/>
               </HBox>
               <HBox spacing="5" alignment="CENTER_LEFT">
                  <Rectangle width="20" height="20" fill="#14967f" stroke="#095d7e" strokeWidth="1"/>
                  <Label styleClass="form-label" text="Occupé (2 consultations)"/>
               </HBox>
               <HBox spacing="5" alignment="CENTER_LEFT">
                  <Rectangle width="20" height="20" fill="#095d7e" stroke="#095d7e" strokeWidth="1"/>
                  <Label styleClass="form-label" text="Complet (3+ consultations)"/>
               </HBox>
            </VBox>
         </VBox>

         <!-- Formulaire -->
         <VBox GridPane.columnIndex="1" styleClass="form-container" spacing="15">
            <Label styleClass="form-label" text="Nouveau Rendez-vous"/>

            <GridPane hgap="10" vgap="15">
               <columnConstraints>
                  <ColumnConstraints percentWidth="30"/>
                  <ColumnConstraints percentWidth="70"/>
               </columnConstraints>

               <Label styleClass="form-label" text="Médecin:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
               <ComboBox fx:id="medecin" styleClass="form-field" promptText="Choisissez un médecin" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

               <Label styleClass="form-label" text="Type:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
               <ComboBox fx:id="type_rdv" styleClass="form-field" promptText="Type de consultation" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

               <Label styleClass="form-label" text="Date:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
               <DatePicker fx:id="datePicker" styleClass="form-field" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

               <Label styleClass="form-label" text="Détails:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
               <TextArea fx:id="cause" styleClass="form-field" promptText="Décrivez votre problème" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
            </GridPane>

            <Button styleClass="submit-button" text="Confirmer le Rendez-vous" onAction="#save"/>
         </VBox>
      </GridPane>
   </center>

   <bottom>
      <HBox styleClass="footer" alignment="CENTER" padding="10">
         <Label styleClass="footer-label" text="© 2025 eHealth - Tous droits réservés"/>
      </HBox>
   </bottom>
</BorderPane>